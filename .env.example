# ================================
# Application
# ================================
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ================================
# Database (PostgreSQL)
# ================================
# Choose one based on your setup:

# For local development with Docker Compose
DATABASE_URL="postgresql://stories_user:stories_pass@postgres:5432/stories_collector?schema=public"

# For local development with local PostgreSQL
# DATABASE_URL="postgresql://stories_user:stories_pass@localhost:5432/stories_collector?schema=public"

# For hosted database (replace with your actual connection string)
# DATABASE_URL="postgresql://username:password@host:5432/database?schema=public"

# ================================
# Redis (Optional - for rate limiting)
# ================================
# For local development
# REDIS_URL=redis://localhost:6379

# For Docker Compose
# REDIS_URL=redis://redis:6379

# For hosted Redis (replace with your actual connection string)
# REDIS_URL=redis://host:port
# REDIS_PASSWORD=your-redis-password

# ================================
# Rate Limiting
# ================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=10

# ================================
# External OTP Service
# ================================
# URL of your external OTP service
OTP_SERVICE_URL=http://localhost:3000

# ================================
# JWT Configuration
# ================================
# Generate a secure secret (at least 32 characters)
# Use: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-min-32-chars-replace-this

# ================================
# Testing Configuration (for .env.test)
# ================================
# Copy this section to .env.test for local testing

# Test Database
# DATABASE_URL="postgresql://test_user:test_pass@localhost:5432/test_db?schema=public"

# Test Redis (optional)
# REDIS_URL=redis://localhost:6379

# Test Rate Limiting (more permissive for tests)
# RATE_LIMIT_WINDOW_MS=60000
# RATE_LIMIT_MAX_REQUESTS=1000

# OTP E2E Testing
# RUN_OTP_E2E=true
# TEST_OTP_CODE=123456

# Test JWT Secret
# JWT_SECRET=test-jwt-secret-32chars-for-testing-only